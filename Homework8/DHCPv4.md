# Лабораторная работа - Реализация DHCPv4
## Топология

![topology](https://github.com/EfremovaOD/Otus_Homeworks/blob/2dee51141b1a4cf28bdd41d1f5469785b38b93aa/photo/Homework7/Topology.PNG)

## Таблица адресации 

| Устройство  | Интерфейс  | IPv6-адрес | Маска подсети | Шлюз по умолчанию |
| :------ |:------------:| --------:| ---------------:| -----:|
| R1      | G0/0/0       | 10.0.0.1 | 255.255.255.252 | -     |
| R1      | G0/0/1       | -        | -               | -     |
| R1      | G0/0/1.100   | **192.168.1.1** | **255.255.255.192** | -     |
| R1      | G0/0/1.200   | **192.168.1.65** | **255.255.255.224** | -     |
| R1      | G0/0/1.1000  | -        | -               | -     |
| R2      | G0/0         | 10.0.0.2 | 255.255.255.252 | -     |
| R2      | G0/0/1       | **192.168.1.97** | **255.255.255.240** | -     |
| S1      | VLAN 200     | **192.168.1.66** | **255.255.255.224** | **192.168.1.65** |
| S2      | VLAN 1       | **192.168.1.2**  | **255.255.255.192** | **192.168.1.1**  |
| PC-A    | NIC          | DHCP     | DHCP            | DHCP  |
| PC-B    | NIC          | DHCP     | DHCP            | DHCP  |

## Таблица адресации VLAN

| Устройство | Интерфейс  | IPv6-адрес |
| :------- |:---------------:| -----:|
| 1        | Нет         | S2: F0/18    |
| 100      | Customers   | S1: F0/6     |
| 200      | Management  | S1: VLAN 200 |
| 999      | Parking_Lot | S1: F0/1-4, F0/7-24, G0/1-2 |
| 1000     | NATIVE      | - |


## Задачи:

### Часть 1. Создание сети и настройка основных параметров устройства.

### Часть 2. Настройка и проверка двух серверов DHCPv4 на R1.

### Часть 3. Настройка и проверка DHCP-ретрансляции на R2.

## Решение:

### Часть 1. Создание сети и настройка основных параметров устройства.

#### Шаг 1.	Создание схемы адресации:

Подсеть сети 192.168.1.0/24 в соответствии со следующими требованиями:

  1.	Одна подсеть «Подсеть A», поддерживающая 58 хостов (клиентская VLAN на R1).
Подсеть A:

    192.168.1.1

Запишите первый IP-адрес в таблице адресации для R1 G0/0/1.100.

  2.	Одна подсеть «Подсеть B», поддерживающая 28 хостов (управляющая VLAN на R1). 
Подсеть B:

    192.168.1.65

Запишите первый IP-адрес в таблице адресации для R1 G0/0/1.200. Запишите второй IP-адрес в таблице адресов для S1 VLAN 200 и введите соответствующий шлюз по умолчанию.

  3.	Одна подсеть «Подсеть C», поддерживающая 12 узлов (клиентская сеть на R2).
Подсеть C:

    192.168.1.97

Запишите первый IP-адрес в таблице адресации для R2 G0/0/1.

#### Шаг 2.	Создаем сеть согласно топологии (см.пункт "Топология").

#### Шаг 3.	Произведите базовую настройку маршрутизаторов:

  1. На примере R1:

    Router>en
    Router#conf t
    Enter configuration commands, one per line.  End with CNTL/Z.
    Router(config)#no ip domain-lookup
    Router(config)#enable secret class
    Router(config)#service password-
    Router(config)#service password-encryption 
    Router(config)#
    Router(config)#hostname R1
    R1(config)#banner motd #
    Enter TEXT message.  End with the character '#'.
        *************************************************************************************ATTENTION*****************************************************************************#
    R1(config)#exit
    R1#clock set 21:00:00 mar 26 2025
    R1#conf t
    R1(config)#line console 0
    R1(config-line)#password cisco
    R1(config-line)#login
    R1(config-line)#exit
    R1(config)#line vty 0 4
    R1(config-line)#password cisco
    R1(config-line)#login
    R1(config-line)#do wr

#### Шаг 4.	Настройка маршрутизации между сетями VLAN на маршрутизаторе R1:

  1.	Активируйте интерфейс G0/0/1 на маршрутизаторе:

    R1(config)#int g0/0/1
    R1(config-if)#no sh

  2.	Настройте подинтерфейсы для каждой VLAN в соответствии с требованиями таблицы IP-адресации. Все субинтерфейсы используют инкапсуляцию 802.1Q и назначаются первый полезный адрес из вычисленного пула IP-адресов. Убедитесь, что подинтерфейсу для native VLAN не назначен IP-адрес. Включите описание для каждого подинтерфейса:

    R1(config-if)#int g0/0/1.100
    R1(config-subif)#encapsulation dot1Q 100
    R1(config-subif)#ip addr 192.168.1.1 255.255.255.192
    R1(config-subif)#int g0/0/1.200
    R1(config-subif)#encapsulation dot1Q 200
    R1(config-subif)#ip addr 192.168.1.65 255.255.255.224
    R1(config-subif)#int gi 0/0/1.1000
    R1(config-subif)#encapsulation dot1Q 1000 native
    R1(config-subif)#no ip address


#### Шаг 5.	Настройте G0/1 на R2, затем G0/0/0 и статическую маршрутизацию для обоих маршрутизаторов:

  1.	Настройте G0/0/1 на R2 с первым IP-адресом подсети C, рассчитанным ранее:

    R2#conf t
    R2(config)#int g0/0/1
    R2(config-if)#ip addr 192.168.1.97 255.255.255.240
    R2(config-if)#no sh

  2.	Настройте интерфейс G0/0/0 для каждого маршрутизатора на основе приведенной выше таблицы IP-адресации:

    R2(config-if)#int gi 0/0/0
    R2(config-if)#ip addr 10.0.0.2 255.255.255.252
    R2(config-if)#no sh

  3.	Настройте маршрут по умолчанию на каждом маршрутизаторе, указываемом на IP-адрес G0/0/0 на другом маршрутизаторе:

    R2(config)#ip route 0.0.0.0 0.0.0.0 10.0.0.1

  4.	Убедитесь, что статическая маршрутизация работает с помощью пинга до адреса G0/0/1 R2 от R1:

![Ping_R1_to_R2](https://github.com/EfremovaOD/Otus_Homeworks/blob/2dee51141b1a4cf28bdd41d1f5469785b38b93aa/photo/Homework7/Topology.PNG)

  5. Сохраняем текущую конфигурацию.


#### Шаг 6.	Настройте базовые параметры каждого коммутатора:






























